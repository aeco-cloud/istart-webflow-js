{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://webflow_dev_template/./src/index.js"],"sourcesContent":["/* --- START - Global variables - DOM elements --- */\nconst STANDARD_YEAR_VALUE = \"2022\";\nvar languageSwitch = document.getElementById(\"language-switch\");\nvar tableOfContent = document.querySelector(\"#toc\");\nvar searchBarInputField = document.querySelectorAll(\".search_field\");\nvar categoryDropdownValue = document.getElementById(\"category-select\");\nvar resetSearch = document.querySelector(\"[search-tool='reset']\");\nvar submitButton = document.querySelector(\"#submit-button\");\nvar filterInitialState = document.getElementById(\"filter-initial\");\nvar tableOfContentWrapper = document.getElementById(\"toc-container\");\nvar filterEmpty = document.getElementById(\"filter-empty\");\nvar tocOverflowWrapper = document.getElementById(\"toc-wrapper\");\n/* --- END - Global variables - DOM elements --- */\n\n/* --- START - Functions --- */\n\n//If initial state div or empty search result - hide sidebar\nfunction isInitialStateActive() {\n  if (\n    window.getComputedStyle(filterInitialState).display === \"none\" &&\n    window.getComputedStyle(filterEmpty).display === \"none\"\n  ) {\n    if (!tableOfContentWrapper.classList.contains(\"show-sidebar\")) {\n      tableOfContentWrapper.classList.add(\"show-sidebar\");\n    }\n    // console.log(\"there is a search\");\n  } else if (\n    window.getComputedStyle(filterInitialState).display === \"block\" ||\n    window.getComputedStyle(filterEmpty).display === \"block\"\n  ) {\n    if (tableOfContentWrapper.classList.contains(\"show-sidebar\")) {\n      tableOfContentWrapper.classList.remove(\"show-sidebar\");\n    }\n    // console.log(\"empty search\");\n  }\n}\n\n// wait ms (milliseconds) after user stops typing to execute func\nconst setDelay = (() => {\n  let timer = null;\n  const delay = (func, ms) => {\n    timer ? clearTimeout(timer) : null;\n    timer = setTimeout(func, ms);\n  };\n  return delay;\n})();\n\n//remove anchor link hash from URL and resets year searchParams to standard 2022\nfunction removeHashFromUrl() {\n  var uri = window.location.toString();\n\n  if (uri.indexOf(\"#\") > 0) {\n    var clean_uri = uri.substring(0, uri.indexOf(\"#\"));\n\n    window.history.replaceState({}, document.title, clean_uri);\n  }\n}\n\n//add active item class to ToC item and scroll ToC item into view with scrolling\nfunction addActiveTocClass() {\n  var anchorLinks = document.querySelectorAll(\"#toc > .faq-nav-link\");\n  var sections = document.querySelectorAll(\".dynamic-table\");\n  var currentSection = \"\";\n  let currentHref = \"\";\n  if (sections.length > 0) {\n    sections.forEach((section) => {\n      const sectionTop = section.offsetTop;\n      const clientRectTop = section.getBoundingClientRect().top;\n      const offSetHeight = section.offsetHeight;\n      if (\n        scrollY - 600 >= sectionTop + clientRectTop &&\n        scrollY - 650 <= sectionTop + offSetHeight\n      ) {\n        currentSection = section.getAttribute(\"id\");\n        currentHref = `#${currentSection}`;\n      }\n      if (anchorLinks.length > 0 && currentHref) {\n        anchorLinks.forEach((link) => {\n          // link.classList.remove(\"w--current\");\n          if (link.getAttribute(\"href\") === currentHref) {\n            if (!link.classList.contains(\"w--current\")) {\n              link.classList.add(\"w--current\");\n              setDelay(() => {\n                tocOverflowWrapper.scrollTop =\n                  link.offsetTop - tocOverflowWrapper.offsetTop;\n              }, 100);\n            }\n          } else if (link.getAttribute(\"href\") !== currentHref) {\n            if (link.classList.contains(\"w--current\")) {\n              link.classList.remove(\"w--current\");\n            }\n          }\n        });\n      }\n    });\n  }\n}\n\n//Remove all links from table of content sidemenu\nfunction removeAllChildren() {\n  // if (tableOfContent.length) {\n  while (tableOfContent.lastChild) {\n    tableOfContent.removeChild(tableOfContent.lastChild);\n  }\n  // console.log(\"removed all children\");\n  // }\n}\n\n//Set focus on searchbar for user to start typing right away\nfunction setFocusSearchBar(searchbar) {\n  let pageSearchbar = document.getElementById(searchbar);\n  //console.log(pageSearchbar.innerHTML);\n  setDelay(() => {\n    pageSearchbar.focus();\n  }, 500);\n}\n\n//render all anchor links based on collection item table names\n//append anchor links to table of content\nfunction renderAnchorLinks() {\n  document\n    .getElementById(\"content-all-list\")\n    .querySelectorAll(\".table-title\")\n    .forEach(function (heading, i) {\n      // console.log(heading.id);\n      heading\n        .closest(\".dynamic-table\")\n        .setAttribute(\"id\", `${heading.id}-section`);\n      const item = document.createElement(\"a\"); // creates an anchor element called \"item\" for each h2\n      item.innerHTML = heading.innerHTML; // gives each item the text of the corresponding heading\n      item.classList.add(\"faq-nav-link\"); // gives each item the correct class\n      item.setAttribute(\"href\", `#${heading.id}-section`); // gives each item the correct anchor link\n      heading.classList.add(\"class\", \"hidden\"); //hides all headings from view\n      tableOfContent.appendChild(item); // places each item inside the Table of Contents div\n    });\n  // console.log(\"anchor links rendered\");\n}\n\n//invoke functions in the correct order\nfunction renderTocAnchorLinksAndAddActiveClass() {\n  isInitialStateActive();\n  removeAllChildren();\n\n  setTimeout(() => {\n    renderAnchorLinks();\n    window.addEventListener(\"scroll\", addActiveTocClass);\n    // console.log(\"added event listener for anchor links\");\n  }, 200);\n  setFocusSearchBar(\"searchbar\");\n  // searchForInitialQueryParameters();\n}\n\n//listen to changes in the searchbar and updates table of content\n//The timeout is essential for this to work, because the dom takes a fraction of a second to update\nsearchBarInputField.forEach((searchbar) => {\n  searchbar.addEventListener(\"keyup\", (event) => {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      setDelay(() => {\n        renderTocAnchorLinksAndAddActiveClass();\n      }, 500);\n    }\n  });\n});\n\n//resets all filter inputs, scroll to page top and re-render the search results\nresetSearch.addEventListener(\"click\", () => {\n  let resetAll = document.querySelectorAll(\"[fs-cmsfilter-element='reset']\");\n  resetAll.forEach((reset) => {\n    reset.click();\n  });\n  searchBarInputField.forEach((searchbar) => {\n    if (searchbar.value !== \"\") {\n      searchbar.value = \"\";\n    }\n  });\n  removeHashFromUrl();\n  setDelay(() => {\n    renderTocAnchorLinksAndAddActiveClass();\n  }, 500);\n});\n\nlanguageSwitch.addEventListener(\"click\", () => {\n  setDelay(() => {\n    renderTocAnchorLinksAndAddActiveClass();\n  }, 100);\n});\n\n//Check for active category tab on load, render correct table of content links\n//hide subcategory wrappers if they are empty\nwindow.addEventListener(\"load\", () => {\n  renderTocAnchorLinksAndAddActiveClass();\n  categoryDropdownValue.addEventListener(\"change\", () => {\n    removeHashFromUrl();\n    submitButton.click();\n    setDelay(() => {\n      renderTocAnchorLinksAndAddActiveClass();\n    }, 500);\n  });\n  // searchForInitialQueryParameters();\n});\n/* --- END - DOM EventListeners --- */\n"],"names":["languageSwitch","document","getElementById","tableOfContent","querySelector","searchBarInputField","querySelectorAll","categoryDropdownValue","resetSearch","submitButton","filterInitialState","tableOfContentWrapper","filterEmpty","tocOverflowWrapper","setDelay","timer","func","ms","clearTimeout","setTimeout","removeHashFromUrl","uri","window","location","toString","indexOf","clean_uri","substring","history","replaceState","title","addActiveTocClass","anchorLinks","sections","currentSection","currentHref","length","forEach","section","sectionTop","offsetTop","clientRectTop","getBoundingClientRect","top","offSetHeight","offsetHeight","scrollY","getAttribute","link","classList","contains","add","scrollTop","remove","renderTocAnchorLinksAndAddActiveClass","getComputedStyle","display","lastChild","removeChild","removeAllChildren","heading","i","closest","setAttribute","id","item","createElement","innerHTML","appendChild","addEventListener","searchbar","pageSearchbar","focus","setFocusSearchBar","event","keyCode","preventDefault","reset","click","value"],"sourceRoot":""}